<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="20180411-01" author="asher">
        <comment>终端表</comment>
        <createTable tableName="nms_terminal">
            <column name="id" type="varchar(36)">
                <constraints primaryKey="true" nullable="false" primaryKeyName="pk_nms_terminal"/>
            </column>
            <column name="terminal_name" type="varchar(80)"/>
            <column name="terminal_type" type="varchar(36)"/>
            <column name="terminal_des" type="varchar(200)"/>
            <column name="terminal_up_time" type="varchar(36)"/>
            <column name="terminal_object_id" type="varchar(36)"/>
            <column name="terminal_contact" type="varchar(80)"/>
            <column name="terminal_location" type="varchar(80)"/>
            <column name="terminal_services" type="int"/>
            <column name="terminal_num_user" type="int"/>
            <column name="terminal_process" type="int"/>
            <column name="terminal_mac" type="varchar(36)"/>
            <column name="terminal_ip" type="varchar(36)"/>
            <column name="CREATE_AT" type="datetime"/>
            <column name="UPDATE_AT" type="datetime"/>
        </createTable>
    </changeSet>
    
    <changeSet id="20180420-01" author="asher">
        <createTable tableName="nms_interface">
            <column name="id" type="varchar(36)">
                <constraints primaryKey="true" nullable="false" primaryKeyName="pk_nms_interface"/>
            </column>
            <column name="terminal_id" type="varchar(36)">
                <constraints referencedTableName="nms_terminal" referencedColumnNames="id" foreignKeyName="fk_nms_if_ter"/>
            </column>
            <column name="if_index" type="int"/>
            <column name="if_descr" type="varchar(500)"/>
            <column name="if_type" type="varchar(150)"/>
            <column name="if_mtu" type="int"/>
            <column name="if_speed" type="int"/>
            <column name="if_phys_address" type="varchar(36)"/>
            <column name="if_admin_status " type="varchar(36)"/>
            <column name="if_oper_status " type="varchar(36)"/>
            <column name="if_last_change " type="bigint"/>
            <column name="if_in_octets " type="bigint"/>
            <column name="if_in_ucast_pkts " type="int"/>
            <column name="if_innucast_pkts " type="int"/>
            <column name="if_in_discards " type="int"/>
            <column name="if_in_errors " type="int"/>
            <column name="if_in_unknown_protos" type="int"/>
            <column name="if_out_octets " type="bigint"/>
            <column name="if_out_ucast_pkts" type="int"/>
            <column name="if_outnucast_pkts" type="int"/>
            <column name="if_out_discards" type="int"/>
            <column name="if_out_errors" type="int"/>
            <column name="if_outqlen" type="int"/>
            <column name="if_specific" type="varchar(80)"/>
            <column name="CREATE_AT" type="datetime"/>
            <column name="UPDATE_AT" type="datetime"/>
        </createTable>
    </changeSet>

    <changeSet id="20180424-01" author="asher">
        <comment>接口性能详情</comment>
        <createTable tableName="nms_interface_detail">
        <column name="id" type="varchar(36)">
            <constraints primaryKey="true" nullable="false" primaryKeyName="pk_nms_interface_detail"/>
        </column>
        <column name="interface_id" type="varchar(36)">
            <constraints referencedTableName="nms_interface" referencedColumnNames="id" foreignKeyName="fk_nms_if_detail"/>
        </column>
        <column name="interface_utilization" type="varchar(36)"/>
        <column name="input_error_rate" type="varchar(36)"/>
        <column name="output_error_rate" type="varchar(36)"/>
        <column name="input_loss_rate" type="varchar(36)"/>
        <column name="output_loss_rate" type="varchar(36)"/>
        <column name="input_flow" type="varchar(36)"/>
        <column name="output_flow" type="varchar(36)"/>
        <column name="if_specific" type="varchar(80)"/>
        <column name="CREATE_AT" type="datetime"/>
        <column name="UPDATE_AT" type="datetime"/>
        </createTable>
    </changeSet>
</databaseChangeLog>
